{
  "hash": "de154d4aca29c8dccc7730b5783a219b",
  "result": {
    "markdown": "---\ntitle: \"FastHTML and Tailwind\"\nsubtitle: \"A how-to guide on how to get Tailwind working with FastHTML\" \nauthor: \"Sean Daly\"\ndate: \"2024-08-26\"\ncategories:\n    - fasthtml\n    - app-development\nimage: \"man-and-chart.jpeg\"\ntoc: true\ndraft: true\nformat:\n    html:\n        code-fold: true\n---\n\nIf you like python and want to do web development *and* haven't checked out FastHTML you need to stop reading this right now and go to [fastht.ml](https://www.fastht.ml) right now.\n\nIt comes bundled with Pico CSS by default, an awesome, lightweight CSS framework. If you've done much frontend development though, you might just be reaching for tailwind CSS as you start really tying an app together.\n\n## HTML and CSS\n\nAs a quick refresher to anyone who doesn't do much web development, css is the language that tells a browser how to format html. This is the most basic html project I can think of, which just prints a header to the browser with some basic formatting.\n\n```txt\nmy-project/\n├── index.html\n└── styles.css\n```\n\n```{.python filename=\"index.html\"}\n<!DOCTYPE html>\n<head>\n    <title>My Minimal HTML</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <h1>Hello, World!</h1>\n</body>\n</html>\n```\n\n```{.css filename=\"styles.css\"}\nh1 {\n  color: blue;\n  font-size: 18px;\n}\n```\n\nAbove, we have just one class, \"H1\", but it can get unwieldy to define and maintain classes for all of the elements you put in a webapp. Think of all the types of text, buttons, labels, boxes, forms, images and more - these will all have css styles attached to them.\n\n## Tailwind CSS\n\nAn alternative to the traditional approach above is to use a utility-first framework like Tailwind CSS. Tailwind allows you to define the styling in the html in a highly compact way, like this:\n\n```txt\nmy-project/\n└── index.html\n```\n\n```{.html filename=\"index.html\"}\n<!DOCTYPE html>\n<head>\n    <title>My Minimal HTML</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n</head>\n<body>\n    <h1 class=\"text-blue-500 text-lg\">Hello, World!</h1>\n</body>\n</html>\n```\n\nThis leads to just one file, where Tailwind CSS is downloaded directly from the CDN. The tailwind script automatically scans the html, figures out the full css for each Tailwind class, and adds (injects) the styling to the html with `<style>` tags (another way to add css to html). So inside the `<head>` tags you might have something like this:\n\n```html\n<style>\n.text-blue-500 { color: #3b82f6; }\n.text-lg { font-size: 1.125rem; }\n/* and so on... */\n</style>\n```\n\nIt might not seem like you gain much here, but tailwind gets extremely powerful as the styling starts to become more complicated.\n\n### Customization\n\nHowever, tailwind is highly customizable (through a file you create in your project `tailwind.config.js`) and this customization can't be done the way we included the tailwind script from the CDN. Instead, we will have to run tailwind on our code to generate the CSS file that will be used to render the webpage.\n\n## Tailwind Installation\n\nUsually, tailwind is called while building a web app in javascript. However, we're using python so we'll have to do things a little more manually. For this, tailwind has a CLI.\n\nYou can download and install the CLI directly, but I prefer to use package managers; they keep things up to date, and also keep a list of what I've installed so I can go back later and remove them if I want. Usually, I'd use homebrew (I use a mac), but I can't see the homebrew formula referenced on the official tailwind website. So instead I'm just going to use npm to install it globally on my machine with:\n\n```bash\nnpm install -g tailwindcss\n```\n\nInstalling it globally means it will be available to all your projects. \n\n## Setting up a FastHTML project\n\nOk, let's take a minute to set up a FastHTML project.\n\nI use the [pdm package manager](https://pdm-project.org/en/latest/). This will set up my virtual environment and a basic file structure. I would initialize the project like this (I decided to call it `basic_website`), following all the default settings, starting in my projects folder:\n\n```bash\nmkdir basic_website\ncd basic_website\npdm init\n```\n\nMy directory now looks like this. Running pdm has set up me up with the directory structure, the .gitignore file, the pyproject.toml file and a basic README.md.\n\n```txt\nbasic_website\n├── .gitignore\n├── .pdm-python\n├── .venv\n│   ├── bin\n│   |   ├── activate\n│   |   ...\n│   ...\n├── README.md\n├── __pycache__\n├── pyproject.toml\n├── src\n│   └── basic_website\n│       ├── __init__.py\n│       └── __pycache__\n└── tests\n    ├── __init__.py\n    └── __pycache__\n```\n\nYou can then add FastHTML with:\n\n```bash\npdm add python-fasthtml\n```\n\nYou might have to activate the virtual environment (often editors like vscode will detect them automatically). You can do that with:\n\n```bash\nsource .venv/bin/activate\n```\n\n### Starting a Basic Webpage\n\nIn the `src` folder, I made `app.py` here like so:\n\n```{.python filename=\"src/app.py\"}\nimport fasthtml.common as fh\n\napp, rt = fh.fast_app()\n\n\n@rt(\"/\")\ndef get():\n    return fh.Div(fh.P(\"Hello World!\"), hx_get=\"/change\")\n\n\nfh.serve()\n```\n\nYou can run this with:\n\n```bash\npython src/app.py\n```\n\nAnd you can see your new webpage in your browser if you go to `http://localhost:5001`\n\nAwesome!\n\n### Tailwind Initialization\n\nIn the directory where you're writing your html, you can initialize tailwind with:\n\n```bash\ntailwind init\n```\n\nWhich creates `tailwind.config.js`, the file that will contain your customizations. It will set up the structure of the file, but you will need to at least add the types of files to scan (including .py files) like this:\n\n\n```{js filename=\"tailwind.config.js\"}\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    \"./**/*.{py,html,qmd,md,js,jsx,ts,tsx,css}\", // Scan all relevant files\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};\n```\n\n\nNow, tailwind will crawl through each of these filetypes and turn any tailwind classes it sees into css.\n\n### Input CSS\n\nIn addition to the tailwind classes you use, you'll probably also want to add some custom css styling. I'm going to call mine `main.css` and put it in `src/static`.\n\nTo include tailwinds utility classes, we have to put this at the top of the css file:\n\n```{.css filename=\"src/static/main.css\"}\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\nI'm going to add css that makes the text multi-colored\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}